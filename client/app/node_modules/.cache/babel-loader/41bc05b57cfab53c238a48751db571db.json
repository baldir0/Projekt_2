{"ast":null,"code":"import axios from \"axios\";\n\nclass Login {\n  constructor() {\n    this.login = async (event, param) => {\n      event.preventDefault();\n      console.table({\n        username: event.target.username.value,\n        password: event.target.password.value\n      });\n      const loginData = {\n        username: event.target.username.value,\n        password: event.target.password.value\n      };\n\n      if (loginData.username && loginData.password) {\n        return await axios.post(`http://localhost:3001/api/auth/login`, loginData).then(result => {\n          document.cookie = \"sessionid=\" + result.data.sessionid;\n          if (result.status === 200) return true;else return false;\n        });\n      }\n    };\n\n    this.validateSession = sessionId => {\n      return axios.get(`http://localhost:3001/api/auth/${sessionId}`).then(result => {\n        if (result.status === 200) return true;else return false;\n      });\n    };\n\n    this.logout = () => {\n      if (document.cookie.sessionId) {\n        window.onbeforeunload(() => {// axios.get(`/api/auth/logout/${document.cookie.sessionId}`);\n        });\n      }\n    };\n  }\n\n}\n\nmodule.exports = Login.default;","map":{"version":3,"sources":["E:/Node Projects/ReactApp/Projekt_2/client/app/src/Elements/login.js"],"names":["axios","Login","login","event","param","preventDefault","console","table","username","target","value","password","loginData","post","then","result","document","cookie","data","sessionid","status","validateSession","sessionId","get","logout","window","onbeforeunload","module","exports","default"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AACA,MAAMC,KAAN,CAAY;AAAA;AAAA,SACVC,KADU,GACF,OAAOC,KAAP,EAAcC,KAAd,KAAwB;AAChCD,MAAAA,KAAK,CAACE,cAAN;AACAC,MAAAA,OAAO,CAACC,KAAR,CAAc;AAACC,QAAAA,QAAQ,EAAEL,KAAK,CAACM,MAAN,CAAaD,QAAb,CAAsBE,KAAjC;AAAwCC,QAAAA,QAAQ,EAAER,KAAK,CAACM,MAAN,CAAaE,QAAb,CAAsBD;AAAxE,OAAd;AACA,YAAME,SAAS,GAAG;AAChBJ,QAAAA,QAAQ,EAAEL,KAAK,CAACM,MAAN,CAAaD,QAAb,CAAsBE,KADhB;AAEhBC,QAAAA,QAAQ,EAAER,KAAK,CAACM,MAAN,CAAaE,QAAb,CAAsBD;AAFhB,OAAlB;;AAIA,UAAIE,SAAS,CAACJ,QAAV,IAAsBI,SAAS,CAACD,QAApC,EAA8C;AAC5C,eAAO,MAAMX,KAAK,CAACa,IAAN,CAAY,sCAAZ,EAAmDD,SAAnD,EACTE,IADS,CACFC,MAAD,IAAY;AACjBC,UAAAA,QAAQ,CAACC,MAAT,GAAkB,eAAeF,MAAM,CAACG,IAAP,CAAYC,SAA7C;AACA,cAAIJ,MAAM,CAACK,MAAP,KAAkB,GAAtB,EAA2B,OAAO,IAAP,CAA3B,KACK,OAAO,KAAP;AACN,SALS,CAAb;AAMD;AACF,KAhBW;;AAAA,SAkBVC,eAlBU,GAkBSC,SAAD,IAAe;AACjC,aAAOtB,KAAK,CAACuB,GAAN,CAAW,kCAAiCD,SAAU,EAAtD,EACJR,IADI,CACGC,MAAD,IAAY;AACjB,YAAIA,MAAM,CAACK,MAAP,KAAkB,GAAtB,EAA2B,OAAO,IAAP,CAA3B,KACK,OAAO,KAAP;AACN,OAJI,CAAP;AAKD,KAxBW;;AAAA,SA0BVI,MA1BU,GA0BD,MAAM;AACf,UAAIR,QAAQ,CAACC,MAAT,CAAgBK,SAApB,EAA+B;AAC7BG,QAAAA,MAAM,CAACC,cAAP,CAAsB,MAAM,CAC1B;AACD,SAFD;AAGD;AACF,KAhCW;AAAA;;AAAA;;AAmCZC,MAAM,CAACC,OAAP,GAAiB3B,KAAK,CAAC4B,OAAvB","sourcesContent":["import axios from \"axios\";\r\nclass Login {\r\n  login = async (event, param) => {\r\n  event.preventDefault();\r\n  console.table({username: event.target.username.value, password: event.target.password.value});\r\n  const loginData = {\r\n    username: event.target.username.value,\r\n    password: event.target.password.value\r\n  }\r\n  if (loginData.username && loginData.password) {\r\n    return await axios.post(`http://localhost:3001/api/auth/login`, loginData)\r\n       .then( (result) => {\r\n         document.cookie = \"sessionid=\" + result.data.sessionid;\r\n         if (result.status === 200) return true\r\n         else return false\r\n       })\r\n  }\r\n}\r\n\r\n  validateSession = (sessionId) => {\r\n  return axios.get(`http://localhost:3001/api/auth/${sessionId}`)\r\n    .then( (result) => {\r\n      if (result.status === 200) return true\r\n      else return false\r\n    })\r\n}\r\n\r\n  logout = () => {\r\n  if (document.cookie.sessionId) {\r\n    window.onbeforeunload(() => {\r\n      // axios.get(`/api/auth/logout/${document.cookie.sessionId}`);\r\n    })\r\n  }\r\n}\r\n}\r\n\r\nmodule.exports = Login.default;"]},"metadata":{},"sourceType":"module"}