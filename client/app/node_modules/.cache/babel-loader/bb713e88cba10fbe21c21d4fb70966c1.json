{"ast":null,"code":"import axios from \"axios\";\n\nconst login = async event => {\n  event.preventDefault();\n  const loginData = {\n    username: event.target.username.value,\n    password: event.target.password.value\n  };\n\n  if (loginData.username && loginData.password) {\n    return await axios.post(`http://localhost:3001/api/auth/login`, loginData).then(result => {\n      document.cookie = \"sessionid=\" + result.data;\n      if (result.status === 200) return true;else return false;\n    });\n  }\n};\n\nconst validateSession = sessionId => {\n  return axios.get(`http://localhost:3001/api/auth/${sessionId}`).then(result => {\n    if (result.status === 200) return true;else return false;\n  });\n};\n\nconst logout = sessionId => {\n  if (sessionId) {}\n};\n\nwindow.onbeforeunload(() => {\n  axios.get(`/api/auth/logout/${document.cookie.sessionId}`).then(result => {\n    if (result.status === 200) return true;else return false;\n  });\n});\nexport default login;\nexport { validateSession, logout };","map":{"version":3,"sources":["E:/Node Projects/ReactApp/Projekt_2/client/app/src/Elements/login.js"],"names":["axios","login","event","preventDefault","loginData","username","target","value","password","post","then","result","document","cookie","data","status","validateSession","sessionId","get","logout","window","onbeforeunload"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AACA,MAAMC,KAAK,GAAG,MAAOC,KAAP,IAAiB;AAC7BA,EAAAA,KAAK,CAACC,cAAN;AACA,QAAMC,SAAS,GAAG;AAChBC,IAAAA,QAAQ,EAAEH,KAAK,CAACI,MAAN,CAAaD,QAAb,CAAsBE,KADhB;AAEhBC,IAAAA,QAAQ,EAAEN,KAAK,CAACI,MAAN,CAAaE,QAAb,CAAsBD;AAFhB,GAAlB;;AAIA,MAAIH,SAAS,CAACC,QAAV,IAAsBD,SAAS,CAACI,QAApC,EAA8C;AAC5C,WAAO,MAAMR,KAAK,CAACS,IAAN,CAAY,sCAAZ,EAAmDL,SAAnD,EACTM,IADS,CACFC,MAAD,IAAY;AACjBC,MAAAA,QAAQ,CAACC,MAAT,GAAkB,eAAeF,MAAM,CAACG,IAAxC;AACA,UAAIH,MAAM,CAACI,MAAP,KAAkB,GAAtB,EAA2B,OAAO,IAAP,CAA3B,KACK,OAAO,KAAP;AACN,KALS,CAAb;AAMD;AACF,CAdD;;AAgBA,MAAMC,eAAe,GAAIC,SAAD,IAAe;AACrC,SAAOjB,KAAK,CAACkB,GAAN,CAAW,kCAAiCD,SAAU,EAAtD,EACJP,IADI,CACGC,MAAD,IAAY;AACjB,QAAIA,MAAM,CAACI,MAAP,KAAkB,GAAtB,EAA2B,OAAO,IAAP,CAA3B,KACK,OAAO,KAAP;AACN,GAJI,CAAP;AAKD,CAND;;AAQA,MAAMI,MAAM,GAAIF,SAAD,IAAe;AAC5B,MAAIA,SAAJ,EAAe,CAEd;AACF,CAJD;;AAMAG,MAAM,CAACC,cAAP,CAAsB,MAAM;AAC1BrB,EAAAA,KAAK,CAACkB,GAAN,CAAW,oBAAmBN,QAAQ,CAACC,MAAT,CAAgBI,SAAU,EAAxD,EACGP,IADH,CACUC,MAAD,IAAY;AACjB,QAAIA,MAAM,CAACI,MAAP,KAAkB,GAAtB,EAA2B,OAAO,IAAP,CAA3B,KACK,OAAO,KAAP;AACN,GAJH;AAKD,CAND;AAQA,eAAed,KAAf;AACA,SAAQe,eAAR,EAAyBG,MAAzB","sourcesContent":["import axios from \"axios\";\r\nconst login = async (event) => {\r\n  event.preventDefault();\r\n  const loginData = {\r\n    username: event.target.username.value,\r\n    password: event.target.password.value\r\n  }\r\n  if (loginData.username && loginData.password) {\r\n    return await axios.post(`http://localhost:3001/api/auth/login`, loginData)\r\n       .then( (result) => {\r\n         document.cookie = \"sessionid=\" + result.data;\r\n         if (result.status === 200) return true\r\n         else return false\r\n       })\r\n  }\r\n}\r\n\r\nconst validateSession = (sessionId) => {\r\n  return axios.get(`http://localhost:3001/api/auth/${sessionId}`)\r\n    .then( (result) => {\r\n      if (result.status === 200) return true\r\n      else return false\r\n    })\r\n}\r\n\r\nconst logout = (sessionId) => {\r\n  if (sessionId) {\r\n    \r\n  }\r\n}\r\n\r\nwindow.onbeforeunload(() => {\r\n  axios.get(`/api/auth/logout/${document.cookie.sessionId}`)\r\n    .then( (result) => {\r\n      if (result.status === 200) return true;\r\n      else return false;\r\n    });\r\n})\r\n\r\nexport default login;\r\nexport {validateSession, logout};"]},"metadata":{},"sourceType":"module"}